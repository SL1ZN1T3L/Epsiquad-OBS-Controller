# Changelog

Все значимые изменения в проекте документируются в этом файле.

## [3.5.4] - 2026-01-30
### Добавлено
- Регулировка громкости аудио в Quick Control (долгое нажатие на кнопку звука)
- Вертикальный слайдер громкости во всплывающем окне

### Улучшено
- Оптимизирован скринсейвер для экономии батареи
- Исправлена синхронизация громкости с OBS (1:1 с фейдером)

## [3.5.3] - 2026-01-29
### Добавлено
- Выбор иконки для подключений (12 вариантов)

### Улучшено
- Единый стиль карточек подключений

### Исправлено
- Убран дублирующийся переключатель «По умолчанию» в диалоге подключения

## [3.5.2] - 2026-01-26
### Улучшено
- Адаптивная частота экрана для экономии батареи
  - Максимальная частота (90/120Hz) при активном использовании
  - Стандартная частота (60Hz) после 5 секунд бездействия
- Миграция на актуальные API Flutter 3.32+

## [3.5.1] - 2026-01-26
### Исправлено
- Красный экран ошибки при удалении файла бэкапа

## [3.5.0] - 2026-01-26
### ⚠️ Важно
- **Требуется переустановка**: Из-за исправления подписи приложения необходимо удалить старую версию перед установкой
- Сделайте бэкап настроек (Настройки → Экспорт) перед удалением!

### Добавлено
- Отображение версии приложения в настройках

### Исправлено
- Ссылка на GitHub в разделе «О приложении» теперь работает на Android 11+
- Исправлена подпись release-сборок (использование правильного keystore)

## [3.4.3] - 2026-01-26
### Исправлено
- Критический баг: Quick Control элементы не сохранялись в бэкап
  - Исправлена обработка формата JSON конфигурации
  - Теперь кнопки Quick Control корректно экспортируются и импортируются

## [3.4.2] - 2026-01-25
### Исправлено
- Критическая ошибка запуска приложения (ClassNotFoundException) из-за несоответствия namespace и package name

## [3.4.1] - 2026-01-25
### Исправлено
- Обновлена версия Java с 8 до 11 для устранения предупреждений при сборке

## [3.4.0] - 2026-01-25
### Изменено
- **Важно**: Смена Application ID на `com.epsiquad.obscontroller`
  - Требуется удалить старую версию перед установкой (настройки можно восстановить через бэкап)
  - Подготовка к публикации в Google Play

## [3.3.3] - 2026-01-24
### Исправлено
- Быстрые действия (Quick Control) теперь корректно сохраняются и восстанавливаются из бэкапа

## [3.3.1] - 2026-01-22
### Исправлено
- Прогрессбар загрузки обновления теперь корректно отображает прогресс скачивания
- Установка APK теперь работает на Android 7+ (добавлен FileProvider)

## [3.2.0] - 2026-01-21
### Добавлено
- Система автообновлений из GitHub Releases:
  - Кнопка «Проверить обновления» в настройках
  - Автоматическая проверка раз в день при запуске (с возможностью отключения)
  - Выбор канала обновлений: Stable (только релизы) или Pre-release (бета-версии)
  - Возможность пропустить версию
  - Скачивание APK напрямую из GitHub
  - Пользовательские данные сохраняются при обновлении
- Секция «Обновления» в настройках с информацией о последней проверке

## [3.1.0] - 2026-01-21
### Улучшено
- Полностью переработан дизайн скринсейвера:
  - Анимированный градиентный фон
  - Плавающие частицы с разными цветами
  - Пульсирующие индикаторы REC/LIVE
  - Отображение даты и дня недели
  - Красивый стеклянный контейнер с информацией

### Добавлено
- Глобальный полноэкранный режим (скрытие системных панелей) — настройка в разделе «Скринсейвер»
- Секция настроек «Скринсейвер» с переключателем полноэкранного режима
- Ссылка на GitHub репозиторий в разделе «О приложении»

### Исправлено
- Изменение громкости на ПК теперь синхронизируется с приложением в реальном времени
- Громкость аудио-источников загружается при подключении

## [3.0.3] - 2026-01-20
### Улучшено
- Оптимизация производительности интерфейса:
- Локальное обновление состояния источников без запросов к серверу
- Debounce для частых событий громкости
- RepaintBoundary для изоляции перерисовки кнопок
- Убраны лишние debug-логи

## [3.0.2] - 2026-01-20
### Исправлено
- Кнопки источников в Quick Control переставали работать/подсвечиваться после переключения сцен
- Активные источники теперь подсвечиваются всегда, а не только когда активна их сцена

### Добавлено
- Кэш состояния источников для всех сцен (allSceneItems)

## [3.0.1] - 2026-01-20
### Исправлено
- Кнопки микрофона и источников не работали при множественном добавлении в Quick Control (не передавались targetId и sceneName)
- Список источников сбрасывался на активную сцену при нажатии на источник в другой сцене
- Приложение автоподключалось даже при выключенной настройке (не было UI для управления)

### Добавлено
- Переключатель «Автоподключение» в экране подключений

## [3.0.0] - 2026-01-20
### Добавлено
- Начальная версия с полной поддержкой OBS WebSocket v5
- Управление сценами, источниками, аудио
- Управление стримом и записью
- Quick Control — кастомизируемая сетка кнопок
- Foreground service для работы в фоне
- Поддержка нескольких подключений